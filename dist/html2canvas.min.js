/*
  html2canvas 0.5.0-beta4 <http://html2canvas.hertzen.com>
  Copyright (c) 2017 Niklas von Hertzen

  Released under  License
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.html2canvas=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,".");var e=a.split("."),f=g(e,b).join(".");return d+f}function i(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:x}function l(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;e<q;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=i<=t?y:i>=t+z?z:i-t,!(l<n);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;h<q;++h)p=a[h],p<128&&u.push(L(p));for(d=e=u.length,e&&u.push(E);d<q;){for(j=w,h=0;h<q;++h)p=a[h],p>=b&&p<j&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;h<q;++h)if(p=a[h],p<b&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=n<=g?y:n>=g+z?z:n-g,!(k<o);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){function d(a,b){var c=this;this.src=a,this.image=new Image,this.tainted=null,this.promise=new Promise(function(b,d){c.image.onload=b,c.image.onerror=d,c.image.src=Areion.rewriteUrl(a),c.image.complete===!0&&b(c.image)})}b.exports=d},{}],3:[function(a,b,c){function d(a,b,c){!a.defaultView||b===a.defaultView.pageXOffset&&c===a.defaultView.pageYOffset||a.defaultView.scrollTo(b,c)}function e(a,b){try{if(b){b.width=a.width,b.height=a.height;var c=a.getContext("2d");c?b.getContext("2d").putImageData(c.getImageData(0,0,a.width,a.height),0,0):b.getContext("2d").drawImage(a,0,0)}}catch(d){h("Unable to copy canvas content from",a,d)}}function f(a,b){for(var c=3===a.nodeType?document.createTextNode(a.nodeValue):a.cloneNode(!1),d=a.firstChild;d;)b!==!0&&1===d.nodeType&&"SCRIPT"===d.nodeName||c.appendChild(f(d,b)),d=d.nextSibling;return 1===a.nodeType&&(c._scrollTop=a.scrollTop,c._scrollLeft=a.scrollLeft,"CANVAS"===a.nodeName?e(a,c):"TEXTAREA"!==a.nodeName&&"SELECT"!==a.nodeName||(c.value=a.value)),c}function g(a){if(1===a.nodeType){a.scrollTop=a._scrollTop,a.scrollLeft=a._scrollLeft;for(var b=a.firstChild;b;)g(b),b=b.nextSibling}}var h=a("./log");b.exports=function(a,b,c,e,h,i,j){var k=f(a.documentElement,h.javascriptEnabled),l=b.createElement("iframe");return l.className="html2canvas-container",l.style.visibility="hidden",l.style.position="fixed",l.style.left="-10000px",l.style.top="0px",l.style.border="0",l.style.padding="0",l.style.width=c+"px",l.style.height=e+"px",l.width=c,l.height=e,l.scrolling="no",b.body.appendChild(l),new Promise(function(b){var c=l.contentWindow.document;l.contentWindow.onload=l.onload=function(){var a=setInterval(function(){if(c.body.childNodes.length>0){g(c.documentElement),clearInterval(a);var d=c.documentElement;d&&!d.style.height&&(d.style.height="100%"),"view"===h.type&&(l.contentWindow.scrollTo(i,j),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.contentWindow.scrollY===j&&l.contentWindow.scrollX===i||(c.documentElement.style.top=-j+"px",c.documentElement.style.left=-i+"px",c.documentElement.style.position="absolute")),b(l)}},50)},c.open(),c.write("<!DOCTYPE html><html></html>"),d(a,i,j),c.replaceChild(c.adoptNode(k),c.documentElement),c.close()})}},{"./log":14}],4:[function(a,b,c){function d(a){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(a)||this.namedColor(a)||this.rgb(a)||this.rgba(a)||this.hsl(a)||this.hsla(a)||this.hex6(a)||this.hex3(a)}d.prototype.darken=function(a){var b=1-a;return new d([Math.round(this.r*b),Math.round(this.g*b),Math.round(this.b*b),this.a])},d.prototype.isTransparent=function(){return 0===this.a},d.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},d.prototype.fromArray=function(a){return Array.isArray(a)&&(this.r=Math.min(a[0],255),this.g=Math.min(a[1],255),this.b=Math.min(a[2],255),a.length>3&&(this.a=a[3])),Array.isArray(a)};var e=/^#([a-f0-9]{3})$/i;d.prototype.hex3=function(a){var b=null;return null!==(b=a.match(e))&&(this.r=parseInt(b[1][0]+b[1][0],16),this.g=parseInt(b[1][1]+b[1][1],16),this.b=parseInt(b[1][2]+b[1][2],16)),null!==b};var f=/^#([a-f0-9]{6})$/i;d.prototype.hex6=function(a){var b=null;return null!==(b=a.match(f))&&(this.r=parseInt(b[1].substring(0,2),16),this.g=parseInt(b[1].substring(2,4),16),this.b=parseInt(b[1].substring(4,6),16)),null!==b};var g=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;d.prototype.rgb=function(a){var b=null;return null!==(b=a.match(g))&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3])),null!==b};var h=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;d.prototype.rgba=function(a){var b=null;return null!==(b=a.match(h))&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3]),this.a=Number(b[4])),null!==b};var i=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/;d.prototype.hsl=function(a){var b=null;if(null!==(b=a.match(i))){var c=d.hsl2rgb(Number(b[1]),Number(b[2]),Number(b[3]));this.r=c.r,this.g=c.g,this.b=c.b}return null!==b};var j=/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*(\d?\.?\d+)\s*\)$/;d.prototype.hsla=function(a){var b=null;if(null!==(b=a.match(j))){var c=d.hsl2rgb(Number(b[1]),Number(b[2]),Number(b[3]));this.r=c.r,this.g=c.g,this.b=c.b,this.a=Number(b[4])}return null!==b},d.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},d.prototype.namedColor=function(a){a=a.toLowerCase();var b=k[a];if(b)this.r=b[0],this.g=b[1],this.b=b[2];else if("transparent"===a)return this.r=this.g=this.b=this.a=0,!0;return!!b},d.hsl2rgb=function(a,b,c){var d,e,f;isFinite(a)||(a=0),isFinite(b)||(b=0),isFinite(c)||(c=0),a/=60,a<0&&(a=6- -a%6),a%=6,b=Math.max(0,Math.min(1,b/100)),c=Math.max(0,Math.min(1,c/100));var g=(1-Math.abs(2*c-1))*b,h=g*(1-Math.abs(a%2-1));a<1?(d=g,e=h,f=0):a<2?(d=h,e=g,f=0):a<3?(d=0,e=g,f=h):a<4?(d=0,e=h,f=g):a<5?(d=h,e=0,f=g):(d=g,e=0,f=h);var i=c-g/2;return d=Math.round(255*(d+i)),e=Math.round(255*(e+i)),f=Math.round(255*(f+i)),{r:d,g:e,b:f}},d.prototype.isColor=!0;var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};b.exports=d},{}],5:[function(b,c,d){function e(a,b){var c=x++;if(b=b||{},b.logging&&(r.options.logging=!0,r.options.start=Date.now()),b.async="undefined"==typeof b.async||b.async,b.allowTaint="undefined"!=typeof b.allowTaint&&b.allowTaint,b.removeContainer="undefined"==typeof b.removeContainer||b.removeContainer,b.javascriptEnabled="undefined"!=typeof b.javascriptEnabled&&b.javascriptEnabled,b.imageTimeout="undefined"==typeof b.imageTimeout?1e4:b.imageTimeout,b.renderer="function"==typeof b.renderer?b.renderer:n,b.strict=!!b.strict,"string"==typeof a){if("string"!=typeof b.proxy)return Promise.reject("Proxy must be used when rendering url");var d=null!=b.width?b.width:window.innerWidth,e=null!=b.height?b.height:window.innerHeight;return u(l(a),b.proxy,document,d,e,b).then(function(a){return g(a.contentWindow.document.documentElement,a,b,d,e)})}var h=(void 0===a?[document.documentElement]:a.length?a:[a])[0];return h.setAttribute(w+c,c),f(h.ownerDocument,b,h.ownerDocument.defaultView.innerWidth,h.ownerDocument.defaultView.innerHeight,c).then(function(a){return"function"==typeof b.onrendered&&(r("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),b.onrendered(a)),a})}function f(a,b,c,d,e){return t(a,a,c,d,b,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(f){r("Document cloned");var h=w+e,i="["+h+"='"+e+"']";a.querySelector(i).removeAttribute(h);var j=f.contentWindow,k=j.document.querySelector(i),l="function"==typeof b.onclone?Promise.resolve(b.onclone(j.document)):Promise.resolve(!0);return l.then(function(){return g(k,f,b,c,d)})})}function g(a,b,c,d,e){var f=b.contentWindow,g=new m(f.document),l=new o(c,g),n="view"===c.type?d:j(f.document),q="view"===c.type?e:k(f.document),s=new c.renderer(n,q,l,c,document),t=new p(a,s,g,l,c);return t.ready.then(function(){r("Finished rendering");var d,e=v(a);return d="view"===c.type?i(s.canvas,{width:s.canvas.width,height:s.canvas.height,top:0,left:0,x:0,y:0}):a===f.document.body||a===f.document.documentElement||null!=c.canvas?s.canvas:i(s.canvas,{width:null!=c.width?c.width:e.width,height:null!=c.height?c.height:e.height,top:e.top,left:e.left,x:0,y:0}),h(b,c),d})}function h(a,b){b.removeContainer&&(a.parentNode.removeChild(a),r("Cleaned up container"))}function i(a,b){var c=document.createElement("canvas"),d=Math.min(a.width-1,Math.max(0,b.left)),e=Math.min(a.width,Math.max(1,b.left+b.width)),f=Math.min(a.height-1,Math.max(0,b.top)),g=Math.min(a.height,Math.max(1,b.top+b.height));c.width=b.width,c.height=b.height;var h=e-d,i=g-f;return r("Cropping canvas at:","left:",b.left,"top:",b.top,"width:",h,"height:",i),r("Resulting crop with width",b.width,"and height",b.height,"with x",d,"and y",f),c.getContext("2d").drawImage(a,d,f,h,i,b.x,b.y,h,i),c}function j(a){return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}function k(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}function l(a){var b=document.createElement("a");return b.href=a,b.href=b.href,b}var m=b("./support"),n=b("./renderers/canvas"),o=b("./imageloader"),p=b("./nodeparser"),q=b("./nodecontainer"),r=b("./log"),s=b("./utils"),t=b("./clone"),u=b("./proxy").loadUrlDocument,v=s.getBounds,w="data-html2canvas-node",x=0;e.CanvasRenderer=n,e.NodeContainer=q,e.log=r,e.utils=s;var y="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:e;c.exports=y,"function"==typeof a&&a.amd&&a("html2canvas",[],function(){return y})},{"./clone":3,"./imageloader":12,"./log":14,"./nodecontainer":15,"./nodeparser":16,"./proxy":17,"./renderers/canvas":21,"./support":25,"./utils":29}],6:[function(a,b,c){function d(a){if(this.src=a,e("DummyImageContainer for",a),!this.promise||!this.image){e("Initiating DummyImageContainer"),d.prototype.image=new Image;var b=this.image;d.prototype.promise=new Promise(function(a,c){b.onload=a,b.onerror=c,b.src=f(),b.complete===!0&&a(b)})}}var e=a("./log"),f=a("./utils").smallImage;b.exports=d},{"./log":14,"./utils":29}],7:[function(a,b,c){function d(a,b){var c,d,f=document.createElement("div"),g=document.createElement("img"),h=document.createElement("span"),i="Hidden Text";f.style.visibility="hidden",f.style.fontFamily=a,f.style.fontSize=b,f.style.margin=0,f.style.padding=0,document.body.appendChild(f),g.src=e(),g.width=1,g.height=1,g.style.margin=0,g.style.padding=0,g.style.verticalAlign="baseline",h.style.fontFamily=a,h.style.fontSize=b,h.style.margin=0,h.style.padding=0,h.appendChild(document.createTextNode(i)),f.appendChild(h),f.appendChild(g),c=g.offsetTop-h.offsetTop+1,f.removeChild(h),f.appendChild(document.createTextNode(i)),f.style.lineHeight="normal",g.style.verticalAlign="super",d=g.offsetTop-f.offsetTop+1,document.body.removeChild(f),this.baseline=c,this.lineWidth=1,this.middle=d}var e=a("./utils").smallImage;b.exports=d},{"./utils":29}],8:[function(a,b,c){function d(){this.data={}}var e=a("./font");d.prototype.getMetrics=function(a,b){return void 0===this.data[a+"-"+b]&&(this.data[a+"-"+b]=new e(a,b)),this.data[a+"-"+b]},b.exports=d},{"./font":7}],9:[function(a,b,c){function d(b,c,d){this.image=null,this.src=b;var e=this,g=f(b);this.promise=(c?new Promise(function(a){"about:blank"===b.contentWindow.document.URL||null==b.contentWindow.document.documentElement?b.contentWindow.onload=b.onload=function(){a(b)}:a(b)}):this.proxyLoad(d.proxy,g,d)).then(function(b){var c=a("./core");return c(b.contentWindow.document.documentElement,{type:"view",width:b.width,height:b.height,proxy:d.proxy,javascriptEnabled:d.javascriptEnabled,removeContainer:d.removeContainer,allowTaint:d.allowTaint,imageTimeout:d.imageTimeout/2})}).then(function(a){return e.image=a})}var e=a("./utils"),f=e.getBounds,g=a("./proxy").loadUrlDocument;d.prototype.proxyLoad=function(a,b,c){var d=this.src;return g(d.src,a,d.ownerDocument,b.width,b.height,c)},b.exports=d},{"./core":5,"./proxy":17,"./utils":29}],10:[function(a,b,c){function d(a){this.src=a.value,this.colorStops=[],this.type=null,this.promise=Promise.resolve(!0)}var e=a("./color");d.prototype.parseColorStops=function(a){this.colorStops=a.map(function(a){var b=a.match(d.REGEXP_COLORSTOP);if(!b)return{color:"transparent",stop:null};var c=+b[2],f=0===c?"%":b[3],g="transparent"===b[1];return{color:g?b[1]:new e(b[1]),stop:"%"===f?c/100:null}});for(var b=0;b<this.colorStops.length;++b){var c=this.colorStops[b];if("transparent"===c.color){var f=null,g=null,h=null;if(b>0&&(f=this.colorStops[b-1].color),b+1<this.colorStops.length&&(g=this.colorStops[b+1].color),h=f?f:g,c.color=new e([h.r,h.g,h.b,0]),f&&g&&"transparent"!==g){var i={color:new e([g.r,g.g,g.b,0]),stop:c.stop};this.colorStops.splice(b+1,0,i)}}}null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(a,b){null===a.stop&&this.colorStops.slice(b).some(function(c,d){return null!==c.stop&&(a.stop=(c.stop-this.colorStops[b-1].stop)/(d+1)+this.colorStops[b-1].stop,!0)},this)},this)},d.TYPES={LINEAR:1,RADIAL:2,REPEATING_LINEAR:3,REPEATING_RADIAL:4},d.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|hsla?\(\s*\d{1,3},\s*\d{1,3}%,\s*\d{1,3}%(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,b.exports=d},{"./color":4}],11:[function(a,b,c){function d(a,b){this.src=a,this.image=new Image;var c=this;this.tainted=null,this.promise=new Promise(function(d,e){c.image.onload=d,c.image.onerror=e,b&&(c.image.crossOrigin="anonymous"),c.image.src=a,c.image.complete===!0&&d(c.image)})}b.exports=d},{}],12:[function(a,b,c){function d(a,b){this.link=null,this.options=a,this.support=b,this.origin=this.getOrigin(window.location.href)}var e=a("./log"),f=a("./imagecontainer"),g=a("./videocontainer"),h=a("./dummyimagecontainer"),i=a("./areion_proxyimagecontainer"),j=a("./framecontainer"),k=a("./svgcontainer"),l=a("./svgnodecontainer"),m=a("./lineargradientcontainer"),n=a("./radialgradientcontainer"),o=a("./repeatinglineargradientcontainer"),p=a("./repeatingradialgradientcontainer"),q=a("./webkitgradientcontainer"),r=a("./utils").bind;d.prototype.findImages=function(a){var b=[],c=0;return a.reduce(function(a,b){switch(b.node.nodeName){case"IMG":return a.concat([{args:[b.node.currentSrc||b.node.src],method:"url"}]);case"VIDEO":return a.concat([{args:[b.node],videoIndex:c++,method:"VIDEO"}]);case"svg":case"IFRAME":return a.concat([{args:[b.node],method:b.node.nodeName}])}return a},[]).forEach(this.addImage(b,this.loadImage),this),b},d.prototype.findBackgroundImage=function(a,b){return b.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(a,this.loadImage,b),this),a},d.prototype.addImage=function(a,b,c){return function(d){d.args.forEach(function(f){this.imageExists(a,f)||(a.splice(0,0,b.call(this,d,c)),e("Added image #"+a.length,"string"==typeof f?f.substring(0,100):f))},this)}},d.prototype.hasImageBackground=function(a){return"none"!==a.method},d.prototype.loadImage=function(a,b){if(!this.options.cancel){if("url"===a.method){var c=a.args[0];return!this.isSVG(c)||this.support.svg||this.options.allowTaint?c.match(/data:image\/.*;base64,/i)?new f(c.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),(!1)):this.isSameOrigin(c)||this.options.allowTaint===!0||this.isSVG(c)?new f(c,(!1)):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new f(c,(!0)):this.options.proxy?new i(c,this.options.proxy):new h(c):new k(c)}return"linear-gradient"===a.method?new m(a):"radial-gradient"===a.method?new n(a,b):"repeating-linear-gradient"===a.method?new o(a):"repeating-radial-gradient"===a.method?new p(a,b):"gradient"===a.method?new q(a):"svg"===a.method?new l(a.args[0],this.support.svg):"IFRAME"===a.method?new j(a.args[0],this.isSameOrigin(a.args[0].src),this.options):"VIDEO"===a.method?new g(a):new h(a)}},d.prototype.isSVG=function(a){return"svg"===a.substring(a.length-3).toLowerCase()||k.prototype.isInline(a)},d.prototype.imageExists=function(a,b){return a.some(function(a){return a.src===b})},d.prototype.isSameOrigin=function(a){return this.getOrigin(a)===this.origin},d.prototype.getOrigin=function(a){var b=this.link||(this.link=document.createElement("a"));return b.href=a,b.href=b.href,b.protocol+b.hostname+b.port},d.prototype.getPromise=function(a){return this.timeout(a,this.options.imageTimeout)["catch"](function(){var b=new h(a.src);return b.promise.then(function(b){a.image=b})})},d.prototype.get=function(a){var b=null;return this.images.some(function(c){return(b=c).src===a})?b:null},d.prototype.getVideo=function(a){var b=null;return this.images.some(function(c){return(b=c).videoIndex===a})?b:null},d.prototype.fetch=function(a){return this.images=a.reduce(r(this.findBackgroundImage,this),this.findImages(a)),this.images.forEach(function(a,b){a.promise.then(function(){e("Succesfully loaded image #"+(b+1),a)},function(c){e("Failed loading image #"+(b+1),a,c)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),e("Finished searching images"),this},d.prototype.timeout=function(a,b){var c,d=Promise.race([a.promise,new Promise(function(d,f){c=setTimeout(function(){e("Timed out loading image",a),f(a)},b)})]).then(function(a){return clearTimeout(c),a});return d["catch"](function(){clearTimeout(c)}),d},b.exports=d},{"./areion_proxyimagecontainer":2,"./dummyimagecontainer":6,"./framecontainer":9,"./imagecontainer":11,"./lineargradientcontainer":13,"./log":14,"./radialgradientcontainer":19,"./repeatinglineargradientcontainer":22,"./repeatingradialgradientcontainer":23,"./svgcontainer":26,"./svgnodecontainer":27,"./utils":29,"./videocontainer":30,"./webkitgradientcontainer":31}],13:[function(a,b,c){function d(a){e.apply(this,arguments),this.type=e.TYPES.LINEAR,this.angle=Math.PI;var b=d.REGEXP_DIRECTION.test(a.args[0])||!e.REGEXP_COLORSTOP.test(a.args[0]);if(b){if(d.REGEXP_ANGLE.test(a.args[0]))this.angle=parseFloat(a.args[0])/180*Math.PI,a.prefix&&(this.angle-=.5*Math.PI);else{var c=a.args[0].split(/\s+/),f=!1;"to"===c[0]&&(f=!0,c.shift());for(var g=0,h=c.length,i=0;i<h;i++)g+=d.ANGLES[c[i]]||0;this.angle=g/h+(f?Math.PI:0)}this.parseColorStops(a.args.slice(1))}else this.parseColorStops(a.args)}var e=a("./gradientcontainer");a("./color");d.prototype=Object.create(e.prototype),d.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|\d*(?:\.\d+)?deg)(?:\s|$)/i,d.REGEXP_ANGLE=/^\d*(?:\.\d+)?deg\s*$/i,d.ANGLES={bottom:0,left:.5*Math.PI,top:Math.PI,right:1.5*Math.PI},b.exports=d},{"./color":4,"./gradientcontainer":10}],14:[function(a,b,c){var d=function(){d.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-d.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};d.options={logging:!1},b.exports=d},{}],15:[function(a,b,c){function d(a,b){this.node=a,this.parent=b,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.canvasBorder=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function e(a){var b=a.options[a.selectedIndex||0];return b?b.text||"":""}function f(a){if(a&&"matrix"===a[1])return a[2].split(",").map(function(a){return parseFloat(a.trim())});if(a&&"matrix3d"===a[1]){var b=a[2].split(",").map(function(a){return parseFloat(a.trim())});return[b[0],b[1],b[4],b[5],b[12],b[13]]}}function g(a){return a.toString().indexOf("%")!==-1}function h(a){return a.replace("px","")}function i(a){return parseFloat(a)}var j=a("./color"),k=a("./utils"),l=k.getBounds,m=k.parseBackgrounds,n=k.offsetBounds;d.prototype.cloneTo=function(a){a.visible=this.visible,a.borders=this.borders,a.bounds=this.bounds,a.clip=this.clip,a.backgroundClip=this.backgroundClip,a.canvasBorder=this.canvasBorder,a.computedStyles=this.computedStyles,a.styles=this.styles,a.backgroundImages=this.backgroundImages,a.opacity=this.opacity},d.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},d.prototype.assignStack=function(a){this.stack=a,a.children.push(this)},d.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&("visible"===this.css("overflow")||0!==this.cssInt("width")&&0!==this.cssInt("height"))&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},d.prototype.css=function(a){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[a]||(this.styles[a]=this.computedStyles[a])},d.prototype.prefixedCss=function(a){var b=["webkit","moz","ms","o"],c=this.css(a);return void 0===c&&b.some(function(b){return c=this.css(b+a.substr(0,1).toUpperCase()+a.substr(1)),void 0!==c},this),void 0===c?null:c},d.prototype.computedStyle=function(a){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,a)},d.prototype.cssInt=function(a){var b=parseInt(this.css(a),10);return isNaN(b)?0:b},d.prototype.color=function(a){return this.colors[a]||(this.colors[a]=new j(this.css(a)))},d.prototype.cssFloat=function(a){var b=parseFloat(this.css(a));return isNaN(b)?0:b},d.prototype.fontWeight=function(){var a=this.css("fontWeight");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal"}return a},d.prototype.parseClip=function(){var a=this.css("clip").match(this.CLIP);return a?{top:parseInt(a[1],10),right:parseInt(a[2],10),bottom:parseInt(a[3],10),left:parseInt(a[4],10)}:null},d.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=m(this.css("backgroundImage")))},d.prototype.parseBackgroundSize=function(a,b,c){var d=(this.css("backgroundSize")||"").split(",");d=d[c||0]||d[0]||"auto",d=d.trim().split(" "),1===d.length&&d.push("auto");var e,f;if(g(d[0]))e=a.width*parseFloat(d[0])/100;else{if(/contain|cover/.test(d[0])){var h=a.width/a.height,i=b.width/b.height;return h<i^"contain"===d[0]?{width:a.height*i,height:a.height}:{width:a.width,height:a.width/i}}e=parseInt(d[0],10)}return f="auto"===d[0]&&"auto"===d[1]?b.height:"auto"===d[1]?e/b.width*b.height:g(d[1])?a.height*parseFloat(d[1])/100:parseInt(d[1],10),"auto"===d[0]&&(e=f/b.height*b.width),{width:e,height:f}},d.prototype.parseBackgroundPosition=function(a,b,c,d){var e,f=this.css("backgroundPositionX"),h=this.css("backgroundPosition");if(void 0===f){var i=h.split(/\s+/);1===i.length?(f=i[0],"top"===f||"bottom"===f?(e=f,f="50%"):e="50%"):(f=i[0],e=i[1])}else e=this.css("backgroundPositionY");var j,k;return j="left"===f?0:"center"===f?.5*(a.width-(d||b).width):"right"===f?a.width-(d||b).width:g(f)?(a.width-(d||b).width)*(parseFloat(f)/100):0===h.indexOf("right")?a.width-(d||b).width-parseInt(f,10):parseInt(f,10),k="auto"===e?j/b.width*b.height:"top"===e?0:"center"===e?.5*(a.height-(d||b).height):"bottom"===e?a.height-(d||b).height:g(e)?(a.height-(d||b).height)*parseFloat(e)/100:h.indexOf("bottom")!==-1?a.height-(d||b).height-parseInt(e,10):parseInt(e,10),"auto"===f&&(j=k/b.height*b.width),{left:j,top:k}},d.prototype.parseBackgroundOrigin=function(a,b,c){var d=this.cssInt("borderLeftWidth"),e=this.cssInt("borderRightWidth"),f=this.cssInt("borderTopWidth"),g=this.cssInt("borderBottomWidth"),h=c?d:0,i=c?f:0;switch(this.css("backgroundOrigin")){case"content-box":var j=this.cssInt("paddingLeft"),k=this.cssInt("paddingRight"),l=this.cssInt("paddingTop"),m=this.cssInt("paddingBottom");return{left:a.left+j+h,top:a.top+l+i,right:a.right-k,bottom:a.bottom-m,width:a.width-j-k-d-e,height:a.height-l-m-f-g};case"padding-box":return{left:a.left+h,top:a.top+i,right:a.right,bottom:a.bottom,width:a.width-d-e,height:a.height-f-g};case"border-box":return{left:a.left-d+h,top:a.top-f+i,right:a.right+e,bottom:a.bounds+g,width:a.width,height:a.height}}},d.prototype.parseBackgroundRepeat=function(a){return this.css("backgroundRepeat")},d.prototype.parseTextShadows=function(){var a=this.css("textShadow"),b=[];if(a&&"none"!==a)for(var c=a.match(this.TEXT_SHADOW_PROPERTY),d=0;c&&d<c.length;d++){var e=c[d].match(this.TEXT_SHADOW_VALUES);b.push({color:new j(e[0]),offsetX:e[1]?parseFloat(e[1].replace("px","")):0,offsetY:e[2]?parseFloat(e[2].replace("px","")):0,blur:e[3]?parseFloat(e[3].replace("px","")):0})}return b},d.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var a=this.parseBounds(),b=this.prefixedCss("transformOrigin").split(" ").map(h).map(i);b[0]+=a.left,b[1]+=a.top,this.transformData={origin:b,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},d.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var a=this.prefixedCss("transform"),b=a?f(a.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=b?b:[1,0,0,1,0,0]}return this.transformMatrix},d.prototype.inverseTransform=function(){for(var a=this.parseTransform(),b=[],c=0;c<a.origin.length;c++)b.push(-a.origin[c]);return{origin:b,matrix:k.matrixInverse(a.matrix)}},d.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?n(this.node):l(this.node))},d.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},d.prototype.getValue=function(){
var a=this.node.value||"";return"SELECT"===this.node.tagName?a=e(this.node):"password"===this.node.type&&(a=Array(a.length+1).join("•")),0===a.length?this.node.placeholder||"":a},d.prototype.isPlaceholderShown=function(){return"SELECT"!==this.node.tagName&&!this.node.value&&!!this.node.placeholder},d.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,d.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,d.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,d.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,b.exports=d},{"./color":4,"./utils":29}],16:[function(a,b,c){function d(a,b,c,d,e){P("Starting NodeParser"),this.renderer=b,this.options=e,this.range=null,this.support=c,this.renderQueue=[],this.stack=new W((!0),1,a.ownerDocument,null);var f=new R(a,null);if(e.background&&b.rectangle(0,0,b.width,b.height,new V(e.background)),a===a.ownerDocument.documentElement){var g=new R(f.color("backgroundColor").isTransparent()?a.ownerDocument.body:a.ownerDocument.documentElement,null);b.rectangle(0,0,b.width,b.height,g.color("backgroundColor"))}f.visibile=f.isElementVisible(),this.createPseudoHideStyles(a.ownerDocument),this.disableAnimations(a.ownerDocument);var h=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,j=[f].concat(this.getChildren(f));j.forEach(function(a){var b=a.isElementVisible();if(b&&"view"===e.type){var c=a.node.getBoundingClientRect&&a.node.getBoundingClientRect();if(c&&(b=c.left<=h&&c.right>=0&&c.top<=i&&c.bottom>=0),b)for(var d=a.parent;d&&!d.visible;)d.visible=!0,d=d.parent}a.visible=b}),this.nodes=K(j.filter(function(a){return a.visible}).map(this.getPseudoElements,this).map(this.applyInlineStylesToSvg,this)),this.fontMetrics=new U,P("Fetched nodes, total:",this.nodes.length),P("Calculate overflow clips"),this.calculateOverflowClips(),P("Start fetching images"),this.images=d.fetch(this.nodes.filter(D)),this.ready=this.images.ready.then(Y(function(){return P("Images loaded, starting parsing"),P("Creating stacking contexts"),this.createStackingContexts(),P("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),P("Render queue created with "+this.renderQueue.length+" items"),new Promise(Y(function(a){e.async?"function"==typeof e.async?e.async.call(this,this.renderQueue,a):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,a)):a():(this.renderQueue.forEach(this.paint,this),a())},this))},this))}function e(a){return a.parent&&a.parent.clip.length}function f(a){var b=a.css("position");if("fixed"===b)return null;if("absolute"!==b)return a.parent&&a.parent.clip;for(var c=a.parent;c;c=c.parent)if("static"!==c.css("position"))return c.clip;return null}function g(a){for(var b=getComputedStyle(a),c=b.length-1;c>=0;c--){var d=h(b.item(c));a.style[d]=b[d]}for(var e=a.childNodes,f=e.length,i=0;i<f;i++){var j=e[i];1===j.nodeType&&g(j)}}function h(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}function i(){}function j(a,b,c,d){return a.map(function(e,f){if(e.width>0){var g=b.left,h=b.top,i=b.width,j=b.height-a[2].width;switch(f){case 0:j=a[0].width,e.args=n({c1:[g,h],c2:[g+i,h],c3:[g+i-a[1].width,h+j],c4:[g+a[3].width,h+j]},d[0],d[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:g=b.left+b.width-a[1].width,i=a[1].width,e.args=n({c1:[g+i,h],c2:[g+i,h+j+a[2].width],c3:[g,h+j],c4:[g,h+a[0].width]},d[1],d[2],c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:h=h+b.height-a[2].width,j=a[2].width,e.args=n({c1:[g+i,h+j],c2:[g,h+j],c3:[g+a[3].width,h],c4:[g+i-a[3].width,h]},d[2],d[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:i=a[3].width,e.args=n({c1:[g,h+j+a[2].width],c2:[g,h],c3:[g+i,h+a[0].width],c4:[g+i,h+j]},d[3],d[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner)}}return e})}function k(a,b,c,d){var e=4*((Math.sqrt(2)-1)/3),f=c*e,g=d*e,h=a+c,i=b+d;return{topLeft:m({x:a,y:i},{x:a,y:i-g},{x:h-f,y:b},{x:h,y:b}),topRight:m({x:a,y:b},{x:a+f,y:b},{x:h,y:i-g},{x:h,y:i}),bottomRight:m({x:h,y:b},{x:h,y:b+g},{x:a+f,y:i},{x:a,y:i}),bottomLeft:m({x:h,y:i},{x:h-f,y:i},{x:a,y:b+g},{x:a,y:b})}}function l(a,b,c){for(var d=a.left,e=a.top,f=a.width,g=a.height,h=Math.min(1,f/(b[0][0]+b[1][0]),g/(b[1][void 0===b[1][1]?0:1]+b[2][void 0===b[2][1]?0:1]),f/(b[2][0]+b[3][0]),g/(b[3][void 0===b[3][1]?0:1]+b[0][void 0===b[0][1]?0:1])),i=[],j=[],l=0;l<4;l++)if(void 0===b[0][1]){var m=h*b[l][0];i.push(m),j.push(m)}else i.push(h*b[l][0]),j.push(h*b[l][1]);var n=f-i[1],o=g-j[2],p=f-i[2],q=g-j[3];return{topLeftOuter:k(d,e,i[0],j[0]).topLeft.subdivide(.5),topLeftInner:k(d+c[3].width,e+c[0].width,Math.max(0,i[0]-c[3].width),Math.max(0,j[0]-c[0].width)).topLeft.subdivide(.5),topRightOuter:k(d+n,e,i[1],j[1]).topRight.subdivide(.5),topRightInner:k(d+Math.min(n,f+c[3].width),e+c[0].width,n>f+c[3].width?0:i[1]-c[3].width,j[1]-c[0].width).topRight.subdivide(.5),bottomRightOuter:k(d+p,e+o,i[2],j[2]).bottomRight.subdivide(.5),bottomRightInner:k(d+Math.min(p,f-c[3].width),e+Math.min(o,g+c[0].width),Math.max(0,i[2]-c[1].width),j[2]-c[2].width).bottomRight.subdivide(.5),bottomLeftOuter:k(d,e+q,i[3],j[3]).bottomLeft.subdivide(.5),bottomLeftInner:k(d+c[3].width,e+q,Math.max(0,i[3]-c[3].width),j[3]-c[2].width).bottomLeft.subdivide(.5)}}function m(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f),k=e(h,i,f),l=e(j,k,f);return[m(a,g,j,l),m(l,k,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function n(a,b,c,d,e,f,g){var h=[];return b[0]>0||b[1]>0?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]),c[0]>0||c[1]>0?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]])),b[0]>0||b[1]>0?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]),h}function o(a,b,c,d,e,f,g){b[0]>0||b[1]>0?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]),(c[0]>0||c[1]>0)&&a.push(["line",e[0].start.x,e[0].start.y])}function p(a){return a.cssInt("zIndex")<0}function q(a){return a.cssInt("zIndex")>0}function r(a){return 0===a.cssInt("zIndex")}function s(a){return["inline","inline-block","inline-table"].indexOf(a.css("display"))!==-1}function t(a){return a instanceof W}function u(a){return a.node.data.trim().length>0}function v(a){return/^(normal|none|0px)$/.test(a.parent.css("letterSpacing"))}function w(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){var c=a.css("border"+b+"Radius"),d=c.split(" ");switch(d.length){case 0:return[0];case 1:var e=parseFloat(d[0]);return"string"==typeof d[0]&&"%"===d[0].charAt(d[0].length-1)?[e/100*a.bounds.width,e/100*a.bounds.height]:[e];default:return["string"==typeof d[0]&&"%"===d[0].charAt(d[0].length-1)?parseFloat(d[0])/100*a.bounds.width:parseFloat(d[0]),"string"==typeof d[1]&&"%"===d[1].charAt(d[1].length-1)?parseFloat(d[1])/100*a.bounds.height:parseFloat(d[1])]}})}function x(a){return a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE}function y(a,b){var c=a.css("position"),d=["absolute","relative","fixed"].indexOf(c)!==-1;if(b)return d;var e=d?a.css("zIndex"):"auto";return"auto"!==e}function z(a){return"static"!==a.css("position")}function A(a){return"none"!==a.css("float")}function B(a){return["inline-block","inline-table"].indexOf(a.css("display"))!==-1}function C(a){var b=this;return function(){return!a.apply(b,arguments)}}function D(a){return a.node.nodeType===Node.ELEMENT_NODE}function E(a){return a.isPseudoElement===!0}function F(a){return a.node.nodeType===Node.TEXT_NODE}function G(a){return function(b,c){return b.cssInt("zIndex")+a.indexOf(b)/a.length-(c.cssInt("zIndex")+a.indexOf(c)/a.length)}}function H(a){return a.getOpacity()<1}function I(a){return a.width}function J(a){return a.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(a.node.nodeName)===-1}function K(a){return[].concat.apply([],a)}function L(a){var b=a.substr(0,1);return b===a.substr(a.length-1)&&b.match(/'|"/)?a.substr(1,a.length-2):a}function M(a){for(var b,c=[],d=0,e=!1;a.length;)N(a[d])===e?(b=a.splice(0,d),b.length&&c.push(Q.ucs2.encode(b)),e=!e,d=0):d++,d>=a.length&&(b=a.splice(0,d),b.length&&c.push(Q.ucs2.encode(b)));return c}function N(a){return[32,13,10,9,45].indexOf(a)!==-1}function O(a){return/[^\u0000-\u00ff]/.test(a)}var P=a("./log"),Q=a("punycode"),R=a("./nodecontainer"),S=a("./textcontainer"),T=a("./pseudoelementcontainer"),U=a("./fontmetrics"),V=a("./color"),W=a("./stackingcontext"),X=a("./utils"),Y=X.bind,Z=X.getBounds,$=X.parseBackgrounds,_=X.offsetBounds,aa=X.getMatchingRules;d.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(a){if(D(a)){E(a)&&a.appendToDOM(),a.borders=this.parseBorders(a);var b="hidden"===a.css("overflow")||"scroll"===a.css("overflow")?[a.borders.clip]:[],c=a.parseClip();c&&["absolute","fixed"].indexOf(a.css("position"))!==-1&&b.push([["rect",a.bounds.left+c.left,a.bounds.top+c.top,c.right-c.left,c.bottom-c.top]]);var d,g,h,i,j,k,l,m,n=a.hasTransform();if(n){var o=a.inverseTransform(),p=o.matrix;d=p[0],g=p[2],h=p[4],i=p[1],j=p[3],k=p[5],l=o.origin[0],m=o.origin[1];var q=a&&a.parent&&a.parent.canvasBorder||[0,0,this.renderer.width,this.renderer.height];a.canvasBorder=[d*(q[0]+l)+g*(q[1]+m)+h-l,i*(q[0]+l)+j*(q[1]+m)+k-m,d*(q[2]+l)+g*(q[3]+m)+h-l,i*(q[2]+l)+j*(q[3]+m)+k-m]}else a.canvasBorder=[0,0,this.renderer.width,this.renderer.height];var r=f(a);if(r)if(n){var s=r.length;a.clip=[];for(var t=0;t<s;t++){for(var u=r[t],v=u.length,w=[],x=0;x<v;x++){for(var y=u[x],z=[y[0]],A=y.length,B=1;B<A;B+=2)z.push(d*(y[B]+l)+g*(y[B+1]+m)+h-l,i*(y[B]+l)+j*(y[B+1]+m)+k-m);w.push(z)}a.clip.push(w)}Array.prototype.push.apply(a.clip,b)}else a.clip=r.concat(b);else a.clip=b;a.backgroundClip="hidden"!==a.css("overflow")?a.clip.concat([a.borders.clip]):a.clip,E(a)&&a.cleanDOM()}else F(a)&&(a.clip=e(a)?a.parent.clip:[]);E(a)||(a.bounds=null)},this)},d.prototype.asyncRenderer=function(a,b,c){c=c||Date.now(),this.paint(a[this.renderIndex++]),a.length===this.renderIndex?b():c+20>Date.now()?this.asyncRenderer(a,b,c):setTimeout(Y(function(){this.asyncRenderer(a,b)},this),0)},d.prototype.createPseudoHideStyles=function(a){this.createStyles(a,"."+T.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+T.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},d.prototype.disableAnimations=function(a){this.createStyles(a,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},d.prototype.createStyles=function(a,b){var c=a.createElement("style");c.innerHTML=b,a.body.appendChild(c)},d.prototype.getPseudoElements=function(a){var b=[[a]];if(a.node.nodeType===Node.ELEMENT_NODE){var c=this.getPseudoElement(a,":before"),d=this.getPseudoElement(a,":after");c&&b.push(c),d&&b.push(d)}return K(b)},d.prototype.applyInlineStylesToSvg=function(a){var b=a[0].node;return 1===b.nodeType&&"svg"===b.tagName&&g(b),a},d.prototype.getPseudoElement=function(a,b){var c=a.computedStyle(b);if(!c||!c.content||"none"===c.content||"-moz-alt-content"===c.content||"none"===c.display||"hidden"===c.visibility)return null;for(var d=L(c.content),e="url"===d.substr(0,3),f=document.createElement(e?"img":"html2canvaspseudoelement"),g=new T(f,a,b),i=c.length-1;i>=0;i--){var j=h(c.item(i));f.style[j]=c[j]}if(f.className=T.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+T.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,e)return f.src=$(d)[0].args[0],[g];var k=document.createTextNode(d);return f.appendChild(k),[g,new S(k,g)]},d.prototype.getChildren=function(a){return K([].filter.call(a.node.childNodes,x).map(function(b){var c=[b.nodeType===Node.TEXT_NODE?new S(b,a):new R(b,a)].filter(J);return b.nodeType===Node.ELEMENT_NODE&&c.length&&"TEXTAREA"!==b.tagName?c[0].isElementVisible()?c.concat(this.getChildren(c[0])):[]:c},this))},d.prototype.newStackingContext=function(a,b){var c=new W(b,a.getOpacity(),a.node,a.parent),d=c.opacity;a.cloneTo(c),c.opacity=d;var e=b?c.getParentStack(this):c.parent.stack;e.contexts.push(c),a.stack=c},d.prototype.createStackingContexts=function(){this.nodes.forEach(function(a){D(a)&&(this.isRootElement(a)||H(a)||y(a,a.parent&&a.parent.hasChildWithOwnStacking)||this.isBodyWithTransparentRoot(a)||a.hasTransform())?(this.newStackingContext(a,!0),a.parent&&(a.parent.hasChildWithOwnStacking=!0)):D(a)&&(z(a)&&r(a)||B(a)||A(a))?this.newStackingContext(a,!1):a.assignStack(a.parent.stack)},this)},d.prototype.isBodyWithTransparentRoot=function(a){return"BODY"===a.node.nodeName&&a.parent.color("backgroundColor").isTransparent()},d.prototype.isRootElement=function(a){return null===a.parent},d.prototype.sortStackingContexts=function(a){a.contexts.sort(G(a.contexts.slice(0))),a.contexts.forEach(this.sortStackingContexts,this)},d.prototype.parseTextBounds=function(a){return function(b,c,d){if("none"!==a.parent.css("textDecoration").substr(0,4)||0!==b.trim().length){if(this.support.rangeBounds&&!a.parent.hasTransform()){var e=d.slice(0,c).join("").length;return this.getRangeBounds(a.node,e,b.length)}if(a.node&&"string"==typeof a.node.data){var f=a.node.splitText(b.length),g=this.getWrapperBounds(a.node,a.parent.hasTransform());return a.node=f,g}}else this.support.rangeBounds&&!a.parent.hasTransform()||(a.node=a.node.splitText(b.length));return{}}},d.prototype.getWrapperBounds=function(a,b){var c=a.ownerDocument.createElement("html2canvaswrapper"),d=a.parentNode,e=a.cloneNode(!0);c.appendChild(a.cloneNode(!0)),d.replaceChild(c,a);var f=b?_(c):Z(c);return d.replaceChild(e,c),f},d.prototype.getRangeBounds=function(a,b,c){var d=this.range||(this.range=a.ownerDocument.createRange());return d.setStart(a,b),d.setEnd(a,b+c),d.getBoundingClientRect()},d.prototype.parse=function(a){var b=a.contexts.filter(p),c=a.children.filter(D),d=c.filter(C(A)),e=d.filter(C(z)).filter(C(s)),f=c.filter(C(z)).filter(A),g=d.filter(C(z)).filter(s),h=a.contexts.concat(d.filter(z)).filter(r),j=a.children.filter(F).filter(u),k=a.contexts.filter(q);b.concat(e).concat(f).concat(g).concat(h).concat(j).concat(k).forEach(function(a){this.renderQueue.push(a),t(a)&&(this.parse(a),this.renderQueue.push(new i))},this)},d.prototype.paint=function(a){if(!this.options.canceled)try{a instanceof i?this.renderer.ctx.restore():F(a)?(E(a.parent)&&a.parent.appendToDOM(),this.paintText(a),E(a.parent)&&a.parent.cleanDOM()):this.paintNode(a)}catch(b){if(P(b),this.options.strict)throw b}},d.prototype.paintNode=function(a){if(t(a)){this.renderer.setOpacity(a.opacity),this.renderer.ctx.save(),a.hasTransform()&&this.renderer.setTransform(a.parseTransform());var b=a.css("mixBlendMode");b&&this.renderer.setMixBlendMode(b)}"INPUT"===a.node.nodeName&&"checkbox"===a.node.type?this.paintCheckbox(a):"INPUT"===a.node.nodeName&&"radio"===a.node.type?this.paintRadio(a):this.paintElement(a)},d.prototype.paintElement=function(a){var b=a.parseBounds();this.renderer.clip(a.backgroundClip,function(){this.renderer.renderBackground(a,b,a.borders.borders.map(I))},this,a),this.renderer.mask(a.backgroundClip,function(){this.renderer.renderShadows(a,a.borders.clip,null,!1)},this,a),this.renderer.clip(a.backgroundClip,function(){switch(a.node.nodeName){case"svg":case"IFRAME":var c=this.images.get(a.node);c?this.renderer.renderImage(a,b,a.borders,c):P("Error loading <"+a.node.nodeName+">",a.node);break;case"IMG":var d=this.images.get(a.node.currentSrc||a.node.src);d?this.renderer.renderImage(a,b,a.borders,d):P("Error loading <img>",a.node.currentSrc||a.node.src);break;case"VIDEO":var e=this.images.getVideo(a.node.videoIndex);e?this.renderer.renderImage(a,b,a.borders,e):P("Error loading <video>",a.node.src);break;case"CANVAS":this.renderer.renderImage(a,b,a.borders,{image:a.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(a)}this.renderer.renderShadows(a,a.backgroundClip,a.borders,!0)},this,a),this.renderer.clip(a.clip,function(){this.renderer.renderBorders(a.borders.borders)},this,a)},d.prototype.paintCheckbox=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height),d={width:c-1,height:c-1,top:b.top,left:b.left},e=[3,3],f=[e,e,e,e],g=[1,1,1,1].map(function(a){return{color:new V("#A5A5A5"),width:a}}),h=l(d,f,g);this.renderer.clip(a.backgroundClip,function(){this.renderer.rectangle(d.left+1,d.top+1,d.width-2,d.height-2,new V("#DEDEDE")),this.renderer.renderBorders(j(g,d,h,f)),a.node.checked&&(this.renderer.font(new V("#424242"),"normal","normal","bold",c-3+"px","arial"),this.renderer.text("✔",d.left+c/6,d.top+c-1))},this,a)},d.prototype.paintRadio=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height)-2;this.renderer.clip(a.backgroundClip,function(){this.renderer.circleStroke(b.left+1,b.top+1,c,new V("#DEDEDE"),1,new V("#A5A5A5")),a.node.checked&&this.renderer.circle(Math.ceil(b.left+c/4)+1,Math.ceil(b.top+c/4)+1,Math.floor(c/2),new V("#424242"))},this,a)};var ba=function(a,b,c){if(!c)return a.css(b);for(var d=c.length-1;d>=0;d--){var e=c[d].style[b];if(e)return e}return a.css(b)};d.prototype.paintFormValue=function(a){var b=a.getValue(),c=a.isPlaceholderShown();if(b.length>0){for(var d=a.node.ownerDocument,e=d.createElement("html2canvaswrapper"),f=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"],g=f.length,h=c?aa(a.node,/::placeholder|::-webkit-input-placeholder|::?-moz-placeholder|:-ms-input-placeholder/):null,i=0;i<g;i++){var j=f[i];try{e.style[j]=ba(a,j,h)}catch(k){P("html2canvas: Parse: Exception caught in renderFormValue: "+k.message)}}var l=a.parseBounds();e.style.position="fixed",e.style.left=l.left+"px",e.style.top=l.top+"px",e.textContent=b,"normal"===e.style.lineHeight&&(e.style.lineHeight=a.computedStyles.height),d.body.appendChild(e),this.paintText(new S(e.firstChild,new R(e,a))),d.body.removeChild(e)}},d.prototype.paintText=function(a){a.applyTextTransform();var b=Q.ucs2.decode(a.node.data),c=(!this.options.letterRendering||v(a))&&!O(a.node.data),d=c?M(b):b.map(function(a){return Q.ucs2.encode([a])});c||(a.parent.node.style.fontVariantLigatures="none");var e=a.parent.fontWeight(),f=a.parent.css("fontSize"),g=a.parent.css("fontFamily"),h=a.parent.parseTextShadows();this.renderer.font(a.parent.color("color"),a.parent.css("fontStyle"),a.parent.css("fontVariant"),e,f,g),h.length?this.renderer.fontShadow(h[0].color,h[0].offsetX,h[0].offsetY,h[0].blur):this.renderer.clearShadow(),this.renderer.clip(a.parent.clip,function(){d.map(this.parseTextBounds(a),this).forEach(function(b,c){b&&(this.renderer.text(d[c],b.left,b.bottom),this.renderTextDecoration(a.parent,b,this.fontMetrics.getMetrics(g,f)))},this)},this,a.parent)},d.prototype.renderTextDecoration=function(a,b,c){switch(a.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(b.left,Math.round(b.top+c.baseline+c.lineWidth),b.width,1,a.color("color"));break;case"overline":this.renderer.rectangle(b.left,Math.round(b.top),b.width,1,a.color("color"));break;case"line-through":this.renderer.rectangle(b.left,Math.ceil(b.top+c.middle+c.lineWidth),b.width,1,a.color("color"))}};var ca={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};d.prototype.parseBorders=function(a){var b=a.parseBounds(),c=w(a),d=["Top","Right","Bottom","Left"].map(function(b,c){var d=a.css("border"+b+"Style"),e=a.color("border"+b+"Color");"inset"===d&&e.isBlack()&&(e=new V([255,255,255,e.a]));var f=ca[d]?ca[d][c]:null;return{width:a.cssInt("border"+b+"Width"),color:f?e[f[0]](f[1]):e,args:null}}),e=l(b,c,d);return{clip:this.parseBackgroundClip(a,e,d,c,b),borders:j(d,b,e,c)}},d.prototype.parseBackgroundClip=function(a,b,c,d,e){var f=a.css("backgroundClip"),g=[];switch(f){case"content-box":case"padding-box":o(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width),o(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width),o(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width),o(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:o(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top),o(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top),o(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height),o(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height)}return g},b.exports=d},{"./color":4,"./fontmetrics":8,"./log":14,"./nodecontainer":15,"./pseudoelementcontainer":18,"./stackingcontext":24,"./textcontainer":28,"./utils":29,punycode:1}],17:[function(a,b,c){function d(a,b,c){var d="withCredentials"in new XMLHttpRequest;if(!b)return Promise.reject("No proxy configured");var e=g(d),i=h(b,a,e);return d?k(i):f(c,i,e).then(function(a){return o(a.content)})}function e(a,b,c){var d="crossOrigin"in new Image,e=g(d),i=h(b,a,e);return d?Promise.resolve(i):f(c,i,e).then(function(a){return"data:"+a.type+";base64,"+a.content})}function f(a,b,c){return new Promise(function(d,e){var f=a.createElement("script"),g=function(){delete window.html2canvas.proxy[c],a.body.removeChild(f)};window.html2canvas.proxy[c]=function(a){g(),d(a)},f.src=b,f.onerror=function(a){g(),e(a)},a.body.appendChild(f)})}function g(a){return a?"":"html2canvas_"+Date.now()+"_"+ ++p+"_"+Math.round(1e5*Math.random())}function h(a,b,c){return a+"?url="+encodeURIComponent(b)+(c.length?"&callback=html2canvas.proxy."+c:"")}function i(a){return function(b){var c,d=new DOMParser;try{c=d.parseFromString(b,"text/html")}catch(e){m("DOMParser not supported, falling back to createHTMLDocument"),c=document.implementation.createHTMLDocument("");try{c.open(),c.write(b),c.close()}catch(f){m("createHTMLDocument write not supported, falling back to document.body.innerHTML"),c.body.innerHTML=b}}var g=c.querySelector("base");if(!g||!g.href.host){var h=c.createElement("base");h.href=a,c.head.insertBefore(h,c.head.firstChild)}return c}}function j(a,b,c,e,f,g){return new d(a,b,window.document).then(i(a)).then(function(a){return n(a,c,e,f,g,0,0)})}var k=a("./xhr"),l=a("./utils"),m=a("./log"),n=a("./clone"),o=l.decode64,p=0;c.Proxy=d,c.ProxyURL=e,c.loadUrlDocument=j},{"./clone":3,"./log":14,"./utils":29,"./xhr":32}],18:[function(a,b,c){function d(a,b,c){e.call(this,a,b),this.isPseudoElement=!0,this.before=":before"===c}var e=a("./nodecontainer");d.prototype.cloneTo=function(a){d.prototype.cloneTo.call(this,a),a.isPseudoElement=!0,a.before=this.before},d.prototype=Object.create(e.prototype),d.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},d.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},d.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},d.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",d.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",b.exports=d},{"./nodecontainer":15}],19:[function(a,b,c){function d(a,b){e.apply(this,arguments),this.type=e.TYPES.RADIAL;var c,f,g=b&&b.node,h=function(a){if(!a)return 16;var b=getComputedStyle(a);if(!b)return 16;var c=b.fontSize.match(/([\d.]+)(px|r?em|%)/i);if(!c)return 16;var d=parseFloat(c[1]);switch(c[2]){case"px":return d;case"em":return d*h(a.parentElement);case"rem":return d*h((a.ownerDocument||document).body);case"%":return.01*d*h(a.parentElement)}return 16},i=function(a,b){var d=parseFloat(a);switch(b){case"px":return d;case"em":return f||(f=h(g)),d*f;case"rem":return c||(c=h((g&&g.ownerDocument||document).body)),d*c;case"%":return.01*d}},j=a.args[0].match(d.REGEXP_SHAPEDEF);j?(this.isCircle="circle"===j[1]||void 0!==j[3]&&void 0===j[5],this.radius={descriptor:j[2]||"farthest-corner"},void 0!==j[3]&&(this.radius.x={value:i(j[3],j[4]),isRelative:"%"===j[4]}),void 0!==j[5]&&(this.radius.y={value:i(j[5],j[6]),isRelative:"%"===j[6]}),this.position={},void 0!==j[7]&&(this.position.x={value:i(j[7],j[8]),isRelative:"%"===j[8]}),void 0!==j[9]&&(this.position.y={value:i(j[9],j[10]),isRelative:"%"===j[10]}),this.parseColorStops(a.args.splice(1))):(this.isCircle=!1,this.radius={descriptor:"farthest-corner"},this.position={},this.parseColorStops(a.args)),void 0===this.position.x&&(this.position.x={value:.5,isRelative:!0}),void 0===this.position.y&&(this.position.y={value:.5,isRelative:!0})}var e=a("./gradientcontainer");a("./color");d.prototype=Object.create(e.prototype),d.REGEXP_SHAPEDEF=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*([\d.]+)(px|r?em|%)\s+([\d.]+)(px|r?em|%))?(?:\s|$)/i,b.exports=d},{"./color":4,"./gradientcontainer":10}],20:[function(a,b,c){function d(a,b,c,d,e){this.width=a,this.height=b,this.images=c,this.options=d,this.document=e}function e(a,b){return Math.sqrt(a*a+b*b)}function f(a,b,c,d){for(var f=[[a.left,a.top],[a.left,a.bottom],[a.right,a.top],[a.right,a.bottom]],g=d?1/0:-(1/0),h=-1,i=0;i<f.length;i++){var j=e(b-f[i][0],c-f[i][1]);(d?j<g:j>g)&&(g=j,h=i)}return f[h]}var g=a("./log"),h=a("./lineargradientcontainer"),i=a("./radialgradientcontainer");a("./repeatinglineargradientcontainer"),a("./repeatingradialgradientcontainer");d.prototype.renderImage=function(a,b,c,d){var e=a.cssInt("paddingLeft"),f=a.cssInt("paddingTop"),g=a.cssInt("paddingRight"),h=a.cssInt("paddingBottom"),i=c.borders,j=b.width-(i[1].width+i[3].width+e+g),k=b.height-(i[0].width+i[2].width+f+h);this.drawImage(d,0,0,d.image.videoWidth||d.image.width||j,d.image.videoHeight||d.image.height||k,b.left+e+i[3].width,b.top+f+i[0].width,j,k)},d.prototype.renderBackground=function(a,b,c){b.height>0&&b.width>0&&(this.renderBackgroundColor(a,b),this.renderBackgroundImage(a,b,c))},d.prototype.renderBackgroundColor=function(a,b){var c=a.color("backgroundColor");c.isTransparent()||this.rectangle(b.left,b.top,b.width,b.height,c)},d.prototype.renderShadows=function(a,b,c,d){var e=a.css("boxShadow");if("none"!==e&&/(?:^|\s+)inset(?:$|\s+)/i.test(e)===d){var f=e.split(/,(?![^(]*\))/);this.shadow(b,f,a,d,c&&c.borders)}},d.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)},d.prototype.renderBorder=function(a){a.color.isTransparent()||null===a.args||this.drawShape(a.args,a.color)},d.prototype.renderBackgroundImage=function(a,b,c){var d=a.parseBackgroundImages();d.reverse().forEach(function(d,e,f){switch(d.method){case"url":var h=this.images.get(d.args[0]);h?this.renderBackgroundRepeating(a,b,h,f.length-(e+1),c):g("Error loading background-image",d.args[0]);break;case"linear-gradient":case"radial-gradient":case"repeating-linear-gradient":case"repeating-radial-gradient":case"gradient":var i=this.images.get(d.value);if(i){var j,k,l=a.parseBackgroundOrigin(b,e,!0),m=a.parseBackgroundSize(l,l,e),n=a.css("backgroundSize");if(/^auto/i.test(n)&&/auto$/i.test(n)&&"content-box"!==a.css("backgroundOrigin")||"no-repeat"===a.css("backgroundRepeat")){var o=a.parseBackgroundPosition(l,l,e,m),p=l.left+o.left,q=l.top+o.top;j={left:p,top:q,right:p+m.width,bottom:q+m.height,width:m.width,height:m.height},k=this.createGradient(a,i,j),k?this.renderGradient(k,j):g("Error creating gradient",d.args[0])}else if(j={left:0,top:0,right:m.width,bottom:m.height,width:m.width,height:m.height},k=this.createGradient(i,j)){var r={};for(var s in this.options)r[s]=this.options[s];r.canvas=void 0;var t=new this.options.renderer(m.width,m.height,null,r,this.document);t.renderGradient(k,j),this.renderBackgroundRepeating(a,b,t.getImageContainer(),e,c)}else g("Error creating gradient",d.args[0])}else g("Error loading background-image",d.args[0]);break;case"none":break;default:g("Unknown background-image type",d.args[0])}},this)},d.prototype.renderBackgroundRepeating=function(a,b,c,d,e){var f=a.parseBackgroundOrigin(b,d),g=a.parseBackgroundSize(f,c.image,d),h=a.parseBackgroundPosition(f,c.image,d,g),i=a.parseBackgroundRepeat(d);switch(i){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(c,h,g,f,f.left+e[3],f.top+h.top+e[0],99999,g.height,e);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(c,h,g,f,f.left+h.left+e[3],f.top+e[0],g.width,99999,e);break;case"no-repeat":this.backgroundRepeatShape(c,h,g,f,f.left+h.left+e[3],f.top+h.top+e[0],g.width,g.height,e);break;default:this.renderBackgroundRepeat(c,h,g,{top:f.top,left:f.left},e[3],e[0])}},d.prototype.createGradient=function(a,b,c){if(b instanceof h)return this.createLinearGradient(b,c);if(b instanceof i)return this.createRadialGradient(a,b,c)},d.prototype.createLinearGradient=function(a,b){var c=a.angle%(2*Math.PI);c<0&&(c+=2*Math.PI);var d,e,f,g,h,i=Math.sqrt(b.width*b.width+b.height*b.height),j=Math.atan2(b.height,b.width);return c<.5*Math.PI?(d=i*Math.sin(c+j),e=b.left,f=b.bottom,g=b.left+d*Math.sin(c),h=b.bottom-d*Math.cos(c)):c<Math.PI?(d=i*Math.sin(c-j),e=b.left,f=b.top,g=b.left+d*Math.sin(c),h=b.top-d*Math.cos(c)):c<1.5*Math.PI?(d=i*Math.sin(c+j),e=b.right,f=b.top,g=b.right-d*Math.sin(c),h=b.top+d*Math.cos(c)):(d=i*Math.sin(c-j),e=b.right,f=b.bottom,g=b.right-d*Math.sin(c),h=b.bottom+d*Math.cos(c)),{type:a.type,x0:e,y0:f,x1:g,y1:h,colorStops:a.colorStops}},d.prototype.createRadialGradient=function(a,b,c){var d,g,h,i,j=null,k=b.position.x.value;b.position.x.isRelative&&(k*=c.width);var l=b.position.y.value;switch(b.position.y.isRelative&&(l*=c.height),k+=c.left,l+=c.top,b.radius.descriptor){case"closest-side":b.isCircle?d=g=Math.min(Math.abs(k-c.left),Math.abs(k-c.right),Math.abs(l-c.top),Math.abs(l-c.bottom)):(d=Math.min(Math.abs(k-c.left),Math.abs(k-c.right)),g=Math.min(Math.abs(l-c.top),Math.abs(l-c.bottom)));break;case"closest-corner":b.isCircle?d=g=Math.min(e(k-c.left,l-c.top),e(k-c.left,l-c.bottom),e(k-c.right,l-c.top),e(k-c.right,l-c.bottom)):(h=Math.min(Math.abs(l-c.top),Math.abs(l-c.bottom))/Math.min(Math.abs(k-c.left),Math.abs(k-c.right)),i=f(c,k,l,!0),d=Math.sqrt((i[0]-k)*(i[0]-k)+(i[1]-l)*(i[1]-l)/(h*h)),g=h*d);break;case"farthest-side":b.isCircle?d=g=Math.max(Math.abs(k-c.left),Math.abs(k-c.right),Math.abs(l-c.top),Math.abs(l-c.bottom)):(d=Math.max(Math.abs(k-c.left),Math.abs(k-c.right)),g=Math.max(Math.abs(l-c.top),Math.abs(l-c.bottom)));break;case"farthest-corner":b.isCircle?d=g=Math.max(e(k-c.left,l-c.top),e(k-c.left,l-c.bottom),e(k-c.right,l-c.top),e(k-c.right,l-c.bottom)):(h=Math.max(Math.abs(l-c.top),Math.abs(l-c.bottom))/Math.max(Math.abs(k-c.left),Math.abs(k-c.right)),i=f(c,k,l,!1),d=Math.sqrt((i[0]-k)*(i[0]-k)+(i[1]-l)*(i[1]-l)/(h*h)),g=h*d);break;default:d=b.radius.x&&b.radius.x.value||0,g=b.radius.y&&b.radius.y.value||d,b.radius.isRelative&&(d*=c.width,g*=c.height)}if(d!==g){var m=c.left+.5*c.width,n=c.top+.5*c.height,o=g/d;j={matrix:[1,0,0,o,0,0],origin:[m,n]};var p=1/o;c.top=p*(c.top-n)+n,c.height*=p}return{type:b.type,transform:j,cx:k,cy:l,r:d,colorStops:b.colorStops}},b.exports=d},{"./lineargradientcontainer":13,"./log":14,"./radialgradientcontainer":19,"./repeatinglineargradientcontainer":22,
"./repeatingradialgradientcontainer":23}],21:[function(a,b,c){function d(a,b){f.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=a,this.canvas.height=b),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},i("Initialized CanvasRenderer with size",a,"x",b)}function e(a){return a.length>0}var f=a("../renderer"),g=a("../gradientcontainer"),h=a("../utils"),i=a("../log");d.prototype=Object.create(f.prototype),d.prototype.getImageContainer=function(){return{image:this.canvas}},d.prototype.setFillStyle=function(a){return this.ctx.fillStyle="object"==typeof a&&a.isColor?a.toString():a,this.ctx},d.prototype.rectangle=function(a,b,c,d,e){this.setFillStyle(e).fillRect(a,b,c,d)},d.prototype.circle=function(a,b,c,d){this.setFillStyle(d),this.ctx.beginPath(),this.ctx.arc(a+c/2,b+c/2,c/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},d.prototype.circleStroke=function(a,b,c,d,e,f){this.circle(a,b,c,d),this.ctx.strokeStyle=f.toString(),this.ctx.stroke()},d.prototype.shadow=function(a,b,c,d,e){for(var f,g=this.ctx,i=d?this.createMaskShapes(a,c):a,j=d?i[0]:null,k=!!d&&(e&&(e[0].width>0||e[1].width>0||e[2].width>0||e[3].width>0)),l=[],m=!0,n=b.length-1;n>=0;n--)f=h.parseShadow(b[n]),l.push(f),null!==f.inset!==d||f.spread||k||(m&&(g.save(),this.shape(i),this.setFillStyle("#ffffff"),m=!1),g.shadowOffsetX=f.x,g.shadowOffsetY=f.y,g.shadowColor=f.color,g.shadowBlur=f.blur,g.fill());for(m||g.restore(),n=0;n<l.length;n++){f=l[n];var o=f.spread||0;if(null!==f.inset===d&&o||k){g.save();var p=h.getShapeBounds(a),q=p.width;d&&e&&(p.top+=e[0].width,p.right-=e[1].width,p.bottom-=e[2].width,p.left+=e[3].width,p.width=p.right-p.left,p.height=p.bottom-p.top);var r=p.left+.5*p.width,s=p.top+.5*p.height,t=(p.width+(d?-2:2)*o)/q;if(g.translate(r,s),g.transform(t,0,0,t,f.x,f.y),g.translate(-r,-s),d){var u=1/t;i[0]=["rect",u*(j[1]-r)-f.x+r,u*(j[2]-s)-f.y+s,u*j[3],u*j[4]]}f.blur?g.filter="blur("+.3*f.blur+"px)":(g.shadowOffsetX=0,g.shadowOffsetY=0,g.shadowColor=f.color,g.shadowBlur=f.blur),this.shape(i),this.setFillStyle(f.color),g.fill(),g.restore()}}},d.prototype.drawShape=function(a,b){this.shape(a),this.setFillStyle(b).fill()},d.prototype.taints=function(a){if(null===a.tainted){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(b){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted},d.prototype.drawImage=function(a,b,c,d,e,f,g,h,i){this.taints(a)&&!this.options.allowTaint||this.ctx.drawImage(a.image,b,c,d,e,f,g,h,i)},d.prototype.clip=function(a,b,c,d){this.ctx.save(),a.filter(e).forEach(function(a){try{this.shape(a).clip()}catch(b){console.log("Exception clipping shape: ",b)}},this),b.call(c),this.ctx.restore()},d.prototype.createMaskShapes=function(a,b){var c=a[a.length-1],d=b.canvasBorder?["rect",Math.max(b.canvasBorder[0],b.canvasBorder[2]),Math.min(b.canvasBorder[1],b.canvasBorder[3]),-Math.abs(b.canvasBorder[0]-b.canvasBorder[2]),Math.abs(b.canvasBorder[1]-b.canvasBorder[3])]:["rect",this.canvas.width,0,-this.canvas.width,this.canvas.height];return[d].concat(c).concat([c[0]])},d.prototype.mask=function(a,b,c,d){var e=a[a.length-1],f=a;e&&e.length&&(f=a.slice(0,-1),f.push(this.createMaskShapes(a,d))),this.clip(f,b,c,d)},d.prototype.shape=function(a){return this.ctx.beginPath(),a.forEach(function(a,b){"rect"===a[0]?this.ctx.rect.apply(this.ctx,a.slice(1)):this.ctx[0===b?"moveTo":a[0]+"To"].apply(this.ctx,a.slice(1))},this),this.ctx.closePath(),this.ctx},d.prototype.font=function(a,b,c,d,e,f){c=/^(normal|small-caps)$/i.test(c)?c:"",this.setFillStyle(a).font=b+" "+c+" "+d+" "+e+" "+f},d.prototype.fontShadow=function(a,b,c,d){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetX",b).setVariable("shadowOffsetY",c).setVariable("shadowBlur",d)},d.prototype.renderTextShadow=function(a,b,c){for(var d=0;d<c.length;d++)this.fontShadow(c[d].color,c[d].offsetX,c[d].offsetY,c[d].blur),this.text(a,b.left,b.bottom)},d.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},d.prototype.setOpacity=function(a){this.ctx.globalAlpha=a},d.prototype.setMixBlendMode=function(a){this.ctx.globalCompositeOperation=a},d.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]),this.ctx.transform.apply(this.ctx,a.matrix),this.ctx.translate(-a.origin[0],-a.origin[1])},d.prototype.setVariable=function(a,b){return this.variables[a]!==b&&(this.variables[a]=this.ctx[a]=b),this},d.prototype.text=function(a,b,c){this.ctx.fillText(a,b,c)},d.prototype.backgroundRepeatShape=function(a,b,c,d,e,f,g,h,i){if(!this.taints(a)||this.options.allowTaint){var j=[["line",Math.round(e),Math.round(f)],["line",Math.round(e+g),Math.round(f)],["line",Math.round(e+g),Math.round(h+f)],["line",Math.round(e),Math.round(h+f)]];this.clip([j],function(){this.renderBackgroundRepeat(a,b,c,d,i[3],i[0])},this)}},d.prototype.renderBackgroundRepeat=function(a,b,c,d,e,f){if(!this.taints(a)||this.options.allowTaint){var g=Math.round(d.left+b.left+e),h=Math.round(d.top+b.top+f);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,c),"repeat")),this.ctx.translate(g,h),this.ctx.fill(),this.ctx.translate(-g,-h)}},d.prototype.renderGradient=function(a,b){var c;switch(a.type){case g.TYPES.LINEAR:c=this.ctx.createLinearGradient(a.x0,a.y0,a.x1,a.y1);break;case g.TYPES.RADIAL:a.transform&&(this.ctx.save(),this.setTransform(a.transform)),c=this.ctx.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);break;case g.TYPES.REPEATING_LINEAR:break;case g.TYPES.REPEATING_RADIAL:}c&&(a.colorStops.forEach(function(a){c.addColorStop(a.stop,a.color.toString())}),this.rectangle(b.left,b.top,b.width,b.height,c)),a.transform&&this.ctx.restore()},d.prototype.resizeImage=function(a,b){var c=a.image;if(c.width===b.width&&c.height===b.height)return c;var d,e=document.createElement("canvas");return e.width=b.width,e.height=b.height,d=e.getContext("2d"),d.drawImage(c,0,0,c.width,c.height,0,0,b.width,b.height),e},b.exports=d},{"../gradientcontainer":10,"../log":14,"../renderer":20,"../utils":29}],22:[function(a,b,c){function d(a){f.apply(this,arguments),this.type=e.TYPES.REPEATING_LINEAR}var e=a("./gradientcontainer"),f=a("./lineargradientcontainer");d.prototype=Object.create(f.prototype),b.exports=d},{"./gradientcontainer":10,"./lineargradientcontainer":13}],23:[function(a,b,c){function d(a){f.apply(this,arguments),this.type=e.TYPES.REPEATING_RADIAL}var e=a("./gradientcontainer"),f=a("./radialgradientcontainer");d.prototype=Object.create(f.prototype),b.exports=d},{"./gradientcontainer":10,"./radialgradientcontainer":19}],24:[function(a,b,c){function d(a,b,c,d){e.call(this,c,d),this.ownStacking=a,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*b}var e=a("./nodecontainer");d.prototype=Object.create(e.prototype),d.prototype.getParentStack=function(a){var b=this.parent?this.parent.stack:null;return b?b.ownStacking?b:b.getParentStack(a):a.stack},b.exports=d},{"./nodecontainer":15}],25:[function(a,b,c){function d(a){this.rangeBounds=this.testRangeBounds(a),this.cors=this.testCORS()}d.prototype.testRangeBounds=function(a){var b,c,d,e,f=!1;return a.createRange&&(b=a.createRange(),b.getBoundingClientRect&&(c=a.createElement("boundtest"),c.style.height="123px",c.style.display="block",a.body.appendChild(c),b.selectNode(c),d=b.getBoundingClientRect(),e=d.height,123===e&&(f=!0),a.body.removeChild(c))),f},d.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},d.prototype.testSVG=function(){var a=new Image,b=document.createElement("canvas"),c=b.getContext("2d");a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{c.drawImage(a,0,0),b.toDataURL()}catch(d){return!1}return!0},b.exports=d},{}],26:[function(a,b,c){function d(a){this.src=a,this.image=null;var b=this;this.promise=this.hasFabric().then(function(){return b.isInline(a)?Promise.resolve(b.inlineFormatting(a)):e(a)}).then(function(a){return new Promise(function(c){window.html2canvas.svg.fabric.loadSVGFromString(a,b.createCanvas.call(b,c))})})}var e=a("./xhr"),f=a("./utils").decode64;d.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},d.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)},d.prototype.removeContentType=function(a){if(/^data:image\/svg\+xml(;base64)?,/.test(a))return a.replace(/^data:image\/svg\+xml(;base64)?,/,"");var b=decodeURIComponent(a.replace(/^data:image\/svg\+xml.+,/,""));return b},d.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)},d.prototype.createCanvas=function(a){var b=this;return function(c,d){var e=document.createElement("canvas"),f=new window.html2canvas.svg.fabric.StaticCanvas(e);b.image=f.lowerCanvasEl;var g,h=window.html2canvas.svg.fabric.util.groupSVGElements(c,d);b.src.getBoundingClientRect&&(g=b.src.getBoundingClientRect(),h.set({scaleX:g.width/d.width,scaleY:g.height/d.height})),f.setWidth(g?g.width:d.width).setHeight(g?g.height:d.height).add(h).renderAll(),a(f.lowerCanvasEl)}},d.prototype.decode64=function(a){return"function"==typeof window.atob?window.atob(a):f(a)},b.exports=d},{"./utils":29,"./xhr":32}],27:[function(a,b,c){function d(a,b){this.src=a,this.image=null;var c=this;this.promise=b?new Promise(function(b,d){c.image=new Image,c.image.onload=b,c.image.onerror=d,c.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(a),c.image.complete===!0&&b(c.image)}):this.hasFabric().then(function(){return new Promise(function(b){window.html2canvas.svg.fabric.parseSVGDocument(a,c.createCanvas.call(c,b))})})}var e=a("./svgcontainer");d.prototype=Object.create(e.prototype),b.exports=d},{"./svgcontainer":26}],28:[function(a,b,c){function d(a,b){f.call(this,a,b)}function e(a,b,c){if(a.length>0)return b+c.toUpperCase()}var f=a("./nodecontainer");d.prototype=Object.create(f.prototype),d.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},d.prototype.transform=function(a){var b=this.node.data;switch(a){case"lowercase":return b.toLowerCase();case"capitalize":return b.replace(/(^|\s|:|-|\(|\))([a-z])/g,e);case"uppercase":return b.toUpperCase();default:return b}},b.exports=d},{"./nodecontainer":15}],29:[function(a,b,c){function d(a){var b=a.length;if(1===b&&"rect"===a[0][0])return{left:a[0][1],top:a[0][2],right:a[0][1]+a[0][3],bottom:a[0][2]+a[0][4],width:a[0][3],height:a[0][4]};for(var c=1/0,e=1/0,f=-(1/0),g=-(1/0),h=0;h<b;h++){var i=a[h],j=i[i.length-2],k=i[i.length-1];if("number"==typeof j)c=Math.min(c,j),e=Math.min(e,k),f=Math.max(f,j),g=Math.max(g,k);else{var l=d(i);c=Math.min(c,l.left),e=Math.min(e,l.top),f=Math.max(f,l.right),g=Math.max(g,l.bottom)}}return{left:c,top:e,right:f,bottom:g,width:f-c,height:g-e}}c.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},c.bind=function(a,b){return function(){return a.apply(b,arguments)}},c.decode64=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=a.length,l="";for(b=0;b<k;b+=4)c=j.indexOf(a[b]),d=j.indexOf(a[b+1]),e=j.indexOf(a[b+2]),f=j.indexOf(a[b+3]),g=c<<2|d>>4,h=(15&d)<<4|e>>2,i=(3&e)<<6|f,l+=64===e?String.fromCharCode(g):64===f||f===-1?String.fromCharCode(g,h):String.fromCharCode(g,h,i);return l},c.getBounds=function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=null==a.offsetWidth?b.width:a.offsetWidth;return{top:b.top,bottom:b.bottom||b.top+b.height,right:b.left+c,left:b.left,width:c,height:null==a.offsetHeight?b.height:a.offsetHeight}}return{}},c.offsetBounds=function(a){var b=a.offsetParent?c.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+b.top,bottom:a.offsetTop+a.offsetHeight+b.top,right:a.offsetLeft+b.left+a.offsetWidth,left:a.offsetLeft+b.left,width:a.offsetWidth,height:a.offsetHeight}},c.parseBackgrounds=function(a){var b,c,d,e,f,g,h,i=" \r\n\t",j=[],k=0,l=0,m=function(){b&&('"'===c.substr(0,1)&&(c=c.substr(1,c.length-2)),c&&h.push(c),"-"===b.substr(0,1)&&(e=b.indexOf("-",1)+1)>0&&(d=b.substr(0,e),b=b.substr(e)),j.push({prefix:d,method:b.toLowerCase(),value:f,args:h,image:null})),h=[],b=d=c=f=""};return h=[],b=d=c=f="",a.split("").forEach(function(a){if(!(0===k&&i.indexOf(a)>-1)){switch(a){case'"':g?g===a&&(g=null):g=a;break;case"(":if(g)break;if(0===k)return k=1,void(f+=a);l++;break;case")":if(g)break;if(1===k){if(0===l)return k=0,f+=a,void m();l--}break;case",":if(g)break;if(0===k)return void m();if(1===k&&0===l&&!b.match(/^url$/i))return h.push(c),c="",void(f+=a)}f+=a,0===k?b+=a:c+=a}}),m(),j},c.parseShadow=function(a){var b={color:/^(#|rgb|hsl|(?!(inset|initial|inherit))[^\d\-\.]+)/i,inset:/^inset/i,px:/px$/i},c=["x","y","blur","spread"],d=a.split(/ (?![^(]*\))/),e={};for(var f in b)e[f]=d.filter(b[f].test.bind(b[f])),e[f]=0===e[f].length?null:1===e[f].length?e[f][0]:e[f];for(var g=0;g<e.px.length;g++)e[c[g]]=parseInt(e.px[g]);return e},c.matrixInverse=function(a){var b=a[0],c=a[2],d=a[4],e=a[1],f=a[3],g=a[5],h=1/(b*f-c*e);return[f*h,-e*h,-c*h,b*h,(c*g-d*f)*h,(d*e-b*g)*h]},c.getShapeBounds=d;var e=/::?(?:after|before|first-line|first-letter)/;c.getMatchingRules=function(a,b){for(var c=[],d=function(e){if(e)for(var f=e.length,g=0;g<f;g++){var h=e[g];switch(h.type){case 1:try{!a.matches(h.selectorText.replace(/::?[a-zA-Z\-]+/g,""))||b&&!b.test(h.selectorText)||c.push(h)}catch(i){}break;case 3:d(h.styleSheet.cssRules);break;case 4:case 12:case 13:d(h.cssRules)}}},f=a.ownerDocument.styleSheets.length,g=0;g<f;g++)try{var h=a.ownerDocument.styleSheets[g];h&&h.cssRules&&d(h.cssRules)}catch(i){}var j=function(b){var c=SPECIFICITY.calculate(b.selectorText),d=c.length;if(1===d)return c[0].specificityArray;for(var f=[],g=0;g<d;g++)a.matches(c[g].selector.replace(e,""))&&f.push(c[g].specificityArray);return f.sort(SPECIFICITY.compare),f[f.length-1]};return c.sort(function(a,b){return void 0===a.specificity&&(a.specificity=j(a)),void 0===b.specificity&&(b.specificity=j(b)),SPECIFICITY.compare(a.specificity,b.specificity)}),c}},{}],30:[function(a,b,c){function d(a){this.src=a.args[0].src,this.videoIndex=a.videoIndex,a.args[0].videoIndex=a.videoIndex,this.image=a.args[0],this.promise=new Promise(function(b,c){a.args[0].muted=!0;var d=document.getElementsByTagName("video");if(0!==d.length&&d[a.videoIndex]){var e=d[a.videoIndex];if(e.currentTime&&(a.args[0].currentTime=e.currentTime),a.args[0].paused){var f=a.args[0].play();f?f.then(b,c):b()}else b()}else b()})}b.exports=d},{}],31:[function(a,b,c){function d(a){e.apply(this,arguments),this.type="linear"===a.args[0]?e.TYPES.LINEAR:e.TYPES.RADIAL}var e=a("./gradientcontainer");d.prototype=Object.create(e.prototype),b.exports=d},{"./gradientcontainer":10}],32:[function(a,b,c){function d(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a),d.onload=function(){200===d.status?b(d.responseText):c(new Error(d.statusText))},d.onerror=function(){c(new Error("Network Error"))},d.send()})}b.exports=d},{}]},{},[5])(5)});